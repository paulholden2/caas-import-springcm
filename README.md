# CaaS Import - SpringCM

A SpringCM import tool used to poll remote SpringCM accounts for documents
to ingest into CaaS, the cloud-based document classification system
managed by Stria.

#### `.caasrc` Configuration

Use the following JSON configuration as a starting point for creating your
SpringCM import configuration. Put your JSON in a file named `.caasrc` in
the same directory as your entry file (usually top-level folder).

```json
{
  "import-springcm": {
    "tasks": [
      {
        "job": "JID00000",
        "customer": "CID00000",
        "auth": {
          "clientId": "your_client_id",
          "clientSecret": "your_client_secret",
          "dataCenter": "your_data_center"
        },
        "paths": [
          {
            "remote": "/Import SpringCM",
            "local": "/New Files Here",
            "wastebin": "/Downloaded",
            "recurse": false,
            "filter": {
              "in": [
                "*.pdf",
                "*.tif",
                "*.tiff"
              ],
              "out": [
                "[caas skip]*"
              ]
            }
          }
        ]
      }
    ]
  }
}
```

| Option | Type | Description |
|--------|------|-------------|
| `tasks` | Object | Array of import tasks to perform |
| `task.job` | String | Job name or identifier, for logging purposes |
| `task.customer` | String | Customer name or identifier, for logging purposes |
| `task.auth` | Object | Authentication configuration for accessing SpringCM |
| `task.auth.clientId` | String | The SpringCM REST API client ID (generated by SpringCM support on request) |
| `task.auth.clientSecret` | String | The generated client secret associated with your client ID |
| `task.paths` | Object | Remote directory configuration for file scraping |
| `task.path.remote` | String | The remote directory path |
| `task.path.wastebin` | String | The remote directory to move files to once downloaded |
| `task.path.recurse` | Boolean | Whether to recurse through subdirectories when importing or not |
| `task.path.filter` | Object |  File filtering configuration |
| `task.path.filter.in` | String, Array | Wildcard expression (or array of expressions) to include |
| `task.path.filter.out` | String, Array | Wildcard expression (or array of expression) to exclude, overriding any `in` filters |

